# AGENTS.md

This file provides guidance to agents when working with code in this repository.

## 架构设计问题分析

### 代码重复问题
- `server.js`和`render.js`存在相同的ECharts初始化和渲染逻辑
- 缺乏共享模块导致维护成本增加和潜在的不一致性

### 模块化不完整的架构问题
- `render.js`中的核心渲染函数未正确导出
- 缺乏明确的API边界和模块职责划分
- 服务层与渲染层耦合度过高

### 缺乏并发控制的设计缺陷
- 无请求队列或限流机制，高并发下可能导致资源竞争
- 固定延迟的同步模式不适合批量处理场景
- 内存管理依赖手动调用而非自动化资源回收

### 配置硬编码的架构影响
- 端口、延迟时间等参数分散在代码中
- 缺乏环境配置管理，降低了部署灵活性
- 渲染参数无法动态调整，限制了应用场景

### 性能瓶颈和扩展性考虑
- 单线程同步渲染模型限制了吞吐量
- 缺乏缓存机制，相同图表重复渲染
- 未考虑水平扩展和负载均衡的架构设计